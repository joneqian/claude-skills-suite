{
  "url": "https://fastapi.tiangolo.com/tutorial/path-params/",
  "title": "Path Parameters¶",
  "content": "You can declare path \"parameters\" or \"variables\" with the same syntax used by Python format strings:\n\nThe value of the path parameter item_id will be passed to your function as the argument item_id.\n\nSo, if you run this example and go to http://127.0.0.1:8000/items/foo, you will see a response of:\n\nYou can declare the type of a path parameter in the function, using standard Python type annotations:\n\nIn this case, item_id is declared to be an int.\n\nThis will give you editor support inside of your function, with error checks, completion, etc.\n\nIf you run this example and open your browser at http://127.0.0.1:8000/items/3, you will see a response of:\n\nNotice that the value your function received (and returned) is 3, as a Python int, not a string \"3\".\n\nSo, with that type declaration, FastAPI gives you automatic request \"parsing\".\n\nBut if you go to the browser at http://127.0.0.1:8000/items/foo, you will see a nice HTTP error of:\n\nbecause the path parameter item_id had a value of \"foo\", which is not an int.\n\nThe same error would appear if you provided a float instead of an int, as in: http://127.0.0.1:8000/items/4.2\n\nSo, with the same Python type declaration, FastAPI gives you data validation.\n\nNotice that the error also clearly states exactly the point where the validation didn't pass.\n\nThis is incredibly helpful while developing and debugging code that interacts with your API.\n\nAnd when you open your browser at http://127.0.0.1:8000/docs, you will see an automatic, interactive, API documentation like:\n\nAgain, just with that same Python type declaration, FastAPI gives you automatic, interactive documentation (integrating Swagger UI).\n\nNotice that the path parameter is declared to be an integer.\n\nAnd because the generated schema is from the OpenAPI standard, there are many compatible tools.\n\nBecause of this, FastAPI itself provides an alternative API documentation (using ReDoc), which you can access at http://127.0.0.1:8000/redoc:\n\nThe same way, there are many compatible tools. Including code generation tools for many languages.\n\nAll the data validation is performed under the hood by Pydantic, so you get all the benefits from it. And you know you are in good hands.\n\nYou can use the same type declarations with str, float, bool and many other complex data types.\n\nSeveral of these are explored in the next chapters of the tutorial.\n\nWhen creating path operations, you can find situations where you have a fixed path.\n\nLike /users/me, let's say that it's to get data about the current user.\n\nAnd then you can also have a path /users/{user_id} to get data about a specific user by some user ID.\n\nBecause path operations are evaluated in order, you need to make sure that the path for /users/me is declared before the one for /users/{user_id}:\n\nOtherwise, the path for /users/{user_id} would match also for /users/me, \"thinking\" that it's receiving a parameter user_id with a value of \"me\".\n\nSimilarly, you cannot redefine a path operation:\n\nThe first one will always be used since the path matches first.\n\nIf you have a path operation that receives a path parameter, but you want the possible valid path parameter values to be predefined, you can use a standard Python Enum.\n\nImport Enum and create a sub-class that inherits from str and from Enum.\n\nBy inheriting from str the API docs will be able to know that the values must be of type string and will be able to render correctly.\n\nThen create class attributes with fixed values, which will be the available valid values:\n\nIf you are wondering, \"AlexNet\", \"ResNet\", and \"LeNet\" are just names of Machine Learning models.\n\nThen create a path parameter with a type annotation using the enum class you created (ModelName):\n\nBecause the available values for the path parameter are predefined, the interactive docs can show them nicely:\n\nThe value of the path parameter will be an enumeration member.\n\nYou can compare it with the enumeration member in your created enum ModelName:\n\nYou can get the actual value (a str in this case) using model_name.value, or in general, your_enum_member.value:\n\nYou could also access the value \"lenet\" with ModelName.lenet.value.\n\nYou can return enum members from your path operation, even nested in a JSON body (e.g. a dict).\n\nThey will be converted to their corresponding values (strings in this case) before returning them to the client:\n\nIn your client you will get a JSON response like:\n\nLet's say you have a path operation with a path /files/{file_path}.\n\nBut you need file_path itself to contain a path, like home/johndoe/myfile.txt.\n\nSo, the URL for that file would be something like: /files/home/johndoe/myfile.txt.\n\nOpenAPI doesn't support a way to declare a path parameter to contain a path inside, as that could lead to scenarios that are difficult to test and define.\n\nNevertheless, you can still do it in FastAPI, using one of the internal tools from Starlette.\n\nAnd the docs would still work, although not adding any documentation telling that the parameter should contain a path.\n\nUsing an option directly from Starlette you can declare a path parameter containing a path using a URL like:\n\nIn this case, the name of the parameter is file_path, and the last part, :path, tells it that the parameter should match any path.\n\nSo, you can use it with:\n\nYou might need the parameter to contain /home/johndoe/myfile.txt, with a leading slash (/).\n\nIn that case, the URL would be: /files//home/johndoe/myfile.txt, with a double slash (//) between files and home.\n\nWith FastAPI, by using short, intuitive and standard Python type declarations, you get:\n\nAnd you only have to declare them once.\n\nThat's probably the main visible advantage of FastAPI compared to alternative frameworks (apart from the raw performance).",
  "headings": [
    {
      "level": "h1",
      "text": "Path Parameters¶",
      "id": "path-parameters"
    },
    {
      "level": "h2",
      "text": "Path parameters with types¶",
      "id": "path-parameters-with-types"
    },
    {
      "level": "h2",
      "text": "Data conversion¶",
      "id": "data-conversion"
    },
    {
      "level": "h2",
      "text": "Data validation¶",
      "id": "data-validation"
    },
    {
      "level": "h2",
      "text": "Documentation¶",
      "id": "documentation"
    },
    {
      "level": "h2",
      "text": "Standards-based benefits, alternative documentation¶",
      "id": "standards-based-benefits-alternative-documentation"
    },
    {
      "level": "h2",
      "text": "Pydantic¶",
      "id": "pydantic"
    },
    {
      "level": "h2",
      "text": "Order matters¶",
      "id": "order-matters"
    },
    {
      "level": "h2",
      "text": "Predefined values¶",
      "id": "predefined-values"
    },
    {
      "level": "h3",
      "text": "Create an Enum class¶",
      "id": "create-an-enum-class"
    },
    {
      "level": "h3",
      "text": "Declare a path parameter¶",
      "id": "declare-a-path-parameter"
    },
    {
      "level": "h3",
      "text": "Check the docs¶",
      "id": "check-the-docs"
    },
    {
      "level": "h3",
      "text": "Working with Python enumerations¶",
      "id": "working-with-python-enumerations"
    },
    {
      "level": "h4",
      "text": "Compare enumeration members¶",
      "id": "compare-enumeration-members"
    },
    {
      "level": "h4",
      "text": "Get the enumeration value¶",
      "id": "get-the-enumeration-value"
    },
    {
      "level": "h4",
      "text": "Return enumeration members¶",
      "id": "return-enumeration-members"
    },
    {
      "level": "h2",
      "text": "Path parameters containing paths¶",
      "id": "path-parameters-containing-paths"
    },
    {
      "level": "h3",
      "text": "OpenAPI support¶",
      "id": "openapi-support"
    },
    {
      "level": "h3",
      "text": "Path convertor¶",
      "id": "path-convertor"
    },
    {
      "level": "h2",
      "text": "Recap¶",
      "id": "recap"
    }
  ],
  "code_samples": [
    {
      "code": "from fastapi import FastAPI\n\napp = FastAPI()\n\n\n@app.get(\"/items/{item_id}\")\nasync def read_item(item_id):\n    return {\"item_id\": item_id}",
      "language": "python"
    },
    {
      "code": "{\"item_id\":\"foo\"}",
      "language": "json"
    },
    {
      "code": "from fastapi import FastAPI\n\napp = FastAPI()\n\n\n@app.get(\"/items/{item_id}\")\nasync def read_item(item_id: int):\n    return {\"item_id\": item_id}",
      "language": "python"
    },
    {
      "code": "{\"item_id\":3}",
      "language": "json"
    },
    {
      "code": "{\n  \"detail\": [\n    {\n      \"type\": \"int_parsing\",\n      \"loc\": [\n        \"path\",\n        \"item_id\"\n      ],\n      \"msg\": \"Input should be a valid integer, unable to parse string as an integer\",\n      \"input\": \"foo\"\n    }\n  ]\n}",
      "language": "json"
    },
    {
      "code": "from fastapi import FastAPI\n\napp = FastAPI()\n\n\n@app.get(\"/users/me\")\nasync def read_user_me():\n    return {\"user_id\": \"the current user\"}\n\n\n@app.get(\"/users/{user_id}\")\nasync def read_user(user_id: str):\n    return {\"user_id\": user_id}",
      "language": "python"
    },
    {
      "code": "from fastapi import FastAPI\n\napp = FastAPI()\n\n\n@app.get(\"/users\")\nasync def read_users():\n    return [\"Rick\", \"Morty\"]\n\n\n@app.get(\"/users\")\nasync def read_users2():\n    return [\"Bean\", \"Elfo\"]",
      "language": "python"
    },
    {
      "code": "from enum import Enum\n\nfrom fastapi import FastAPI\n\n\nclass ModelName(str, Enum):\n    alexnet = \"alexnet\"\n    resnet = \"resnet\"\n    lenet = \"lenet\"\n\n\napp = FastAPI()\n\n\n@app.get(\"/models/{model_name}\")\nasync def get_model(model_name: ModelName):\n    if model_name is ModelName.alexnet:\n        return {\"model_name\": model_name, \"message\": \"Deep Learning FTW!\"}\n\n    if model_name.value == \"lenet\":\n        return {\"model_name\": model_name, \"message\": \"LeCNN all the images\"}\n\n    return {\"model_name\": model_name, \"message\": \"Have some residuals\"}",
      "language": "python"
    },
    {
      "code": "from enum import Enum\n\nfrom fastapi import FastAPI\n\n\nclass ModelName(str, Enum):\n    alexnet = \"alexnet\"\n    resnet = \"resnet\"\n    lenet = \"lenet\"\n\n\napp = FastAPI()\n\n\n@app.get(\"/models/{model_name}\")\nasync def get_model(model_name: ModelName):\n    if model_name is ModelName.alexnet:\n        return {\"model_name\": model_name, \"message\": \"Deep Learning FTW!\"}\n\n    if model_name.value == \"lenet\":\n        return {\"model_name\": model_name, \"message\": \"LeCNN all the images\"}\n\n    return {\"model_name\": model_name, \"message\": \"Have some residuals\"}",
      "language": "python"
    },
    {
      "code": "from enum import Enum\n\nfrom fastapi import FastAPI\n\n\nclass ModelName(str, Enum):\n    alexnet = \"alexnet\"\n    resnet = \"resnet\"\n    lenet = \"lenet\"\n\n\napp = FastAPI()\n\n\n@app.get(\"/models/{model_name}\")\nasync def get_model(model_name: ModelName):\n    if model_name is ModelName.alexnet:\n        return {\"model_name\": model_name, \"message\": \"Deep Learning FTW!\"}\n\n    if model_name.value == \"lenet\":\n        return {\"model_name\": model_name, \"message\": \"LeCNN all the images\"}\n\n    return {\"model_name\": model_name, \"message\": \"Have some residuals\"}",
      "language": "python"
    },
    {
      "code": "from enum import Enum\n\nfrom fastapi import FastAPI\n\n\nclass ModelName(str, Enum):\n    alexnet = \"alexnet\"\n    resnet = \"resnet\"\n    lenet = \"lenet\"\n\n\napp = FastAPI()\n\n\n@app.get(\"/models/{model_name}\")\nasync def get_model(model_name: ModelName):\n    if model_name is ModelName.alexnet:\n        return {\"model_name\": model_name, \"message\": \"Deep Learning FTW!\"}\n\n    if model_name.value == \"lenet\":\n        return {\"model_name\": model_name, \"message\": \"LeCNN all the images\"}\n\n    return {\"model_name\": model_name, \"message\": \"Have some residuals\"}",
      "language": "python"
    },
    {
      "code": "from enum import Enum\n\nfrom fastapi import FastAPI\n\n\nclass ModelName(str, Enum):\n    alexnet = \"alexnet\"\n    resnet = \"resnet\"\n    lenet = \"lenet\"\n\n\napp = FastAPI()\n\n\n@app.get(\"/models/{model_name}\")\nasync def get_model(model_name: ModelName):\n    if model_name is ModelName.alexnet:\n        return {\"model_name\": model_name, \"message\": \"Deep Learning FTW!\"}\n\n    if model_name.value == \"lenet\":\n        return {\"model_name\": model_name, \"message\": \"LeCNN all the images\"}\n\n    return {\"model_name\": model_name, \"message\": \"Have some residuals\"}",
      "language": "python"
    },
    {
      "code": "{\n  \"model_name\": \"alexnet\",\n  \"message\": \"Deep Learning FTW!\"\n}",
      "language": "json"
    },
    {
      "code": "/files/{file_path:path}",
      "language": "css"
    },
    {
      "code": "from fastapi import FastAPI\n\napp = FastAPI()\n\n\n@app.get(\"/files/{file_path:path}\")\nasync def read_file(file_path: str):\n    return {\"file_path\": file_path}",
      "language": "python"
    }
  ],
  "patterns": [],
  "links": [
    "https://fastapi.tiangolo.com/tutorial/path-params/",
    "https://fastapi.tiangolo.com/tutorial/path-params/?q=",
    "https://fastapi.tiangolo.com/features/",
    "https://fastapi.tiangolo.com/reference/",
    "https://fastapi.tiangolo.com/python-types/",
    "https://fastapi.tiangolo.com/async/",
    "https://fastapi.tiangolo.com/environment-variables/",
    "https://fastapi.tiangolo.com/virtual-environments/",
    "https://fastapi.tiangolo.com/tutorial/",
    "https://fastapi.tiangolo.com/tutorial/first-steps/",
    "https://fastapi.tiangolo.com/tutorial/query-params/",
    "https://fastapi.tiangolo.com/tutorial/body/",
    "https://fastapi.tiangolo.com/tutorial/query-params-str-validations/",
    "https://fastapi.tiangolo.com/tutorial/path-params-numeric-validations/",
    "https://fastapi.tiangolo.com/tutorial/query-param-models/",
    "https://fastapi.tiangolo.com/tutorial/body-multiple-params/",
    "https://fastapi.tiangolo.com/tutorial/body-fields/",
    "https://fastapi.tiangolo.com/tutorial/body-nested-models/",
    "https://fastapi.tiangolo.com/tutorial/schema-extra-example/",
    "https://fastapi.tiangolo.com/tutorial/extra-data-types/",
    "https://fastapi.tiangolo.com/tutorial/cookie-params/",
    "https://fastapi.tiangolo.com/tutorial/header-params/",
    "https://fastapi.tiangolo.com/tutorial/cookie-param-models/",
    "https://fastapi.tiangolo.com/tutorial/header-param-models/",
    "https://fastapi.tiangolo.com/tutorial/response-model/",
    "https://fastapi.tiangolo.com/tutorial/extra-models/",
    "https://fastapi.tiangolo.com/tutorial/response-status-code/",
    "https://fastapi.tiangolo.com/tutorial/request-forms/",
    "https://fastapi.tiangolo.com/tutorial/request-form-models/",
    "https://fastapi.tiangolo.com/tutorial/request-files/",
    "https://fastapi.tiangolo.com/tutorial/request-forms-and-files/",
    "https://fastapi.tiangolo.com/tutorial/handling-errors/",
    "https://fastapi.tiangolo.com/tutorial/path-operation-configuration/",
    "https://fastapi.tiangolo.com/tutorial/encoder/",
    "https://fastapi.tiangolo.com/tutorial/body-updates/",
    "https://fastapi.tiangolo.com/tutorial/dependencies/",
    "https://fastapi.tiangolo.com/tutorial/dependencies/classes-as-dependencies/",
    "https://fastapi.tiangolo.com/tutorial/dependencies/sub-dependencies/",
    "https://fastapi.tiangolo.com/tutorial/dependencies/dependencies-in-path-operation-decorators/",
    "https://fastapi.tiangolo.com/tutorial/dependencies/global-dependencies/",
    "https://fastapi.tiangolo.com/tutorial/dependencies/dependencies-with-yield/",
    "https://fastapi.tiangolo.com/tutorial/security/",
    "https://fastapi.tiangolo.com/tutorial/security/first-steps/",
    "https://fastapi.tiangolo.com/tutorial/security/get-current-user/",
    "https://fastapi.tiangolo.com/tutorial/security/simple-oauth2/",
    "https://fastapi.tiangolo.com/tutorial/security/oauth2-jwt/",
    "https://fastapi.tiangolo.com/tutorial/middleware/",
    "https://fastapi.tiangolo.com/tutorial/cors/",
    "https://fastapi.tiangolo.com/tutorial/sql-databases/",
    "https://fastapi.tiangolo.com/tutorial/bigger-applications/",
    "https://fastapi.tiangolo.com/tutorial/background-tasks/",
    "https://fastapi.tiangolo.com/tutorial/metadata/",
    "https://fastapi.tiangolo.com/tutorial/static-files/",
    "https://fastapi.tiangolo.com/tutorial/testing/",
    "https://fastapi.tiangolo.com/tutorial/debugging/",
    "https://fastapi.tiangolo.com/advanced/",
    "https://fastapi.tiangolo.com/advanced/path-operation-advanced-configuration/",
    "https://fastapi.tiangolo.com/advanced/additional-status-codes/",
    "https://fastapi.tiangolo.com/advanced/response-directly/",
    "https://fastapi.tiangolo.com/advanced/custom-response/",
    "https://fastapi.tiangolo.com/advanced/additional-responses/",
    "https://fastapi.tiangolo.com/advanced/response-cookies/",
    "https://fastapi.tiangolo.com/advanced/response-headers/",
    "https://fastapi.tiangolo.com/advanced/response-change-status-code/",
    "https://fastapi.tiangolo.com/advanced/advanced-dependencies/",
    "https://fastapi.tiangolo.com/advanced/security/",
    "https://fastapi.tiangolo.com/advanced/security/oauth2-scopes/",
    "https://fastapi.tiangolo.com/advanced/security/http-basic-auth/",
    "https://fastapi.tiangolo.com/advanced/using-request-directly/",
    "https://fastapi.tiangolo.com/advanced/dataclasses/",
    "https://fastapi.tiangolo.com/advanced/middleware/",
    "https://fastapi.tiangolo.com/advanced/sub-applications/",
    "https://fastapi.tiangolo.com/advanced/behind-a-proxy/",
    "https://fastapi.tiangolo.com/advanced/templates/",
    "https://fastapi.tiangolo.com/advanced/websockets/",
    "https://fastapi.tiangolo.com/advanced/events/",
    "https://fastapi.tiangolo.com/advanced/testing-websockets/",
    "https://fastapi.tiangolo.com/advanced/testing-events/",
    "https://fastapi.tiangolo.com/advanced/testing-dependencies/",
    "https://fastapi.tiangolo.com/advanced/async-tests/",
    "https://fastapi.tiangolo.com/advanced/settings/",
    "https://fastapi.tiangolo.com/advanced/openapi-callbacks/",
    "https://fastapi.tiangolo.com/advanced/openapi-webhooks/",
    "https://fastapi.tiangolo.com/advanced/wsgi/",
    "https://fastapi.tiangolo.com/advanced/generate-clients/",
    "https://fastapi.tiangolo.com/fastapi-cli/",
    "https://fastapi.tiangolo.com/deployment/",
    "https://fastapi.tiangolo.com/deployment/versions/",
    "https://fastapi.tiangolo.com/deployment/fastapicloud/",
    "https://fastapi.tiangolo.com/deployment/https/",
    "https://fastapi.tiangolo.com/deployment/manually/",
    "https://fastapi.tiangolo.com/deployment/concepts/",
    "https://fastapi.tiangolo.com/deployment/cloud/",
    "https://fastapi.tiangolo.com/deployment/server-workers/",
    "https://fastapi.tiangolo.com/deployment/docker/",
    "https://fastapi.tiangolo.com/how-to/",
    "https://fastapi.tiangolo.com/how-to/general/",
    "https://fastapi.tiangolo.com/how-to/migrate-from-pydantic-v1-to-pydantic-v2/",
    "https://fastapi.tiangolo.com/how-to/graphql/",
    "https://fastapi.tiangolo.com/how-to/custom-request-and-route/",
    "https://fastapi.tiangolo.com/how-to/conditional-openapi/",
    "https://fastapi.tiangolo.com/how-to/extending-openapi/",
    "https://fastapi.tiangolo.com/how-to/separate-openapi-schemas/",
    "https://fastapi.tiangolo.com/how-to/custom-docs-ui-assets/",
    "https://fastapi.tiangolo.com/how-to/configure-swagger-ui/",
    "https://fastapi.tiangolo.com/how-to/testing-database/",
    "https://fastapi.tiangolo.com/how-to/authentication-error-status-code/",
    "https://fastapi.tiangolo.com/reference/fastapi/",
    "https://fastapi.tiangolo.com/reference/parameters/",
    "https://fastapi.tiangolo.com/reference/status/",
    "https://fastapi.tiangolo.com/reference/uploadfile/",
    "https://fastapi.tiangolo.com/reference/exceptions/",
    "https://fastapi.tiangolo.com/reference/dependencies/",
    "https://fastapi.tiangolo.com/reference/apirouter/",
    "https://fastapi.tiangolo.com/reference/background/",
    "https://fastapi.tiangolo.com/reference/request/",
    "https://fastapi.tiangolo.com/reference/websockets/",
    "https://fastapi.tiangolo.com/reference/httpconnection/",
    "https://fastapi.tiangolo.com/reference/response/",
    "https://fastapi.tiangolo.com/reference/responses/",
    "https://fastapi.tiangolo.com/reference/middleware/",
    "https://fastapi.tiangolo.com/reference/openapi/",
    "https://fastapi.tiangolo.com/reference/openapi/docs/",
    "https://fastapi.tiangolo.com/reference/openapi/models/",
    "https://fastapi.tiangolo.com/reference/security/",
    "https://fastapi.tiangolo.com/reference/encoders/",
    "https://fastapi.tiangolo.com/reference/staticfiles/",
    "https://fastapi.tiangolo.com/reference/templating/",
    "https://fastapi.tiangolo.com/reference/testclient/"
  ]
}